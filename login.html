<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="form.css"> <!-- Link to your CSS file -->
</head>
<body>
    <nav class="menu-bar">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="signup.html">Sign Up</a></li>
            <li><a href="logout.html">Logout</a></li>
        </ul>
    </nav>

    <div class="alert-box">
        <p class="alert"></p>
    </div>
    
    <div class="bookingcontainer"> <!-- Added bookingcontainer for centering -->
        <div class="form"> <!-- Used the form class for styling -->
            <h2 class="heading">LOGIN</h2>
            <input type="text" placeholder="USERNAME" autocomplete="off" class="username" required>
            <br>
            <input type="password" placeholder="PASSWORD" autocomplete="off" class="password" required>
            <br>
            <button class="submit-btn">LOG IN</button>
            <br>
            <a href="signup.html" class="login-link">DON'T HAVE AN ACCOUNT? REGISTER ONE</a> <!-- Changed class for consistency -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const loginBtn = document.querySelector('.submit-btn');
            const usernameInput = document.querySelector('.username');
            const passwordInput = document.querySelector('.password');
            const alertBox = document.querySelector('.alert-box');
            const alertMsg = document.querySelector('.alert');

            // Function to show alert messages
            const showAlert = (message) => {
                alertMsg.textContent = message;
                alertBox.classList.add('show'); // Show the alert box
                setTimeout(() => {
                    alertBox.classList.remove('show'); // Hide the alert box after 3 seconds
                }, 3000);
            };

            // Check if the user is signed up
            loginBtn.addEventListener('click', () => {
                const storedUserName = localStorage.getItem('username');
                const storedPassword = localStorage.getItem('password');

                const inputUserName = usernameInput.value; // Use the username field
                const inputPassword = passwordInput.value;

                if (!storedUserName || !storedPassword) {
                    // If no user is signed up
                    showAlert('No account found! Please sign up first.');
                    setTimeout(() => {
                        window.location.href = 'signup.html'; // Redirect to signup page
                    }, 3000);
                } else if (inputUserName === storedUserName && inputPassword === storedPassword) {
                    // If credentials match
                    showAlert('Login successful!');
                    // Store the login status
                    localStorage.setItem('loggedIn', 'true');
                    // Redirect to the booking page
                    setTimeout(() => {
                        window.location.href = 'booking.html'; // Or another page
                    }, 2000);
                } else {
                    // If credentials do not match
                    showAlert('Invalid username or password.');
                }
            });
        });
    </script>
</body>
</html>

